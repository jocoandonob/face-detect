<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Detection App</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/static/css/styles.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-face-smile me-2"></i>
                Face Detection App
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://fastapi.tiangolo.com/tutorial/" target="_blank">API Docs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="p-5 mb-4 bg-dark rounded-3">
                    <div class="container-fluid py-5">
                        <h1 class="display-5 fw-bold">Face Detection using CNN</h1>
                        <p class="fs-4">Upload an image to detect faces and facial features using advanced AI techniques</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">
                            <i class="fas fa-face-smile"></i>
                        </div>
                        <h5 class="card-title">Face Detection</h5>
                        <p class="card-text">Identifies and locates human faces in images using Convolutional Neural Networks</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <h5 class="card-title">Feature Detection</h5>
                        <p class="card-text">Detects facial features like eyes and lips with high precision</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 feature-card">
                    <div class="card-body text-center">
                        <div class="feature-icon">
                            <i class="fas fa-code-branch"></i>
                        </div>
                        <h5 class="card-title">Pattern Analysis</h5>
                        <p class="card-text">Analyzes edges, patterns, and corners in facial regions</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header">
                        <h4>Upload Image</h4>
                    </div>
                    <div class="card-body">
                        <div class="upload-container">
                            <form id="uploadForm" enctype="multipart/form-data">
                                <div class="mb-3">
                                    <label for="imageInput" class="form-label">
                                        <i class="fas fa-upload me-2"></i>Choose an image file
                                    </label>
                                    <input class="form-control" type="file" id="imageInput" accept="image/*">
                                    <div class="form-text">Supported formats: JPG, PNG, JPEG</div>
                                </div>
                                <button type="button" id="uploadButton" class="btn btn-primary btn-upload">
                                    <i class="fas fa-search me-2"></i>Detect Faces
                                </button>
                            </form>
                        </div>
                        
                        <div class="text-center" id="loadingSpinner">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-2">Processing image...</p>
                        </div>
                        
                        <div class="alert alert-danger" id="errorMessage" role="alert"></div>
                        
                        <div id="resultArea" style="display: none;">
                            <h4 class="mb-3">Detection Results</h4>
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="result-container">
                                        <img id="resultImage" class="result-image" alt="Detection Result" style="display: none;">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div id="detectionDetails"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header">
                        <h4>How It Works</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <h5><i class="fas fa-brain me-2"></i>CNN Technology</h5>
                                <p>Our application uses Convolutional Neural Networks (CNN) to detect and analyze facial features. CNNs are deep learning models specifically designed for image processing tasks, capable of learning spatial hierarchies of features through multiple layers.</p>
                            </div>
                            <div class="col-md-6 mb-3">
                                <h5><i class="fas fa-cogs me-2"></i>Feature Detection</h5>
                                <p>The system employs a multi-stage approach to detect various facial features:</p>
                                <ul>
                                    <li>Face detection using pre-trained models</li>
                                    <li>Eye and lip detection within facial regions</li>
                                    <li>Edge detection using Canny algorithm</li>
                                    <li>Corner detection using Harris corner detector</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p>&copy; 2023 Face Detection App | Powered by FastAPI and TensorFlow</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/js/main.js"></script>
</body>
</html>
